{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(watchLoadBords),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(bookSaga);\n\nimport { all, call, fork, throttle, takeLatest, put } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { LOAD_BOARDS_REQUEST, LOAD_BOARDS_SUCCESS, LOAD_BOARDS_FAILURE } from '../reducers/board';\n\nfunction watchLoadBords() {\n  return _regeneratorRuntime.wrap(function watchLoadBords$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return throttle(1000, LOAD_BOARDS_REQUEST,\n          /*#__PURE__*/\n          _regeneratorRuntime.mark(function loadBoards(action) {\n            var result;\n            return _regeneratorRuntime.wrap(function loadBoards$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.prev = 0;\n                    console.log(\"\\n      -------------------------\\n      -------------------------\\n      -------------------------\\n      ---- watchLoadBoards ----\\n      -------------------------\\n      -------------------------\\n      -------------------------\\n      \");\n                    result = call(function () {\n                      var lastId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n                      var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n                      var url = \"/boards?lastId=\".concat(lastId, \"&limit=\").concat(limit);\n                      console.log(\"\\n      -------------------------\\n      -------------------------\\n      -------------------------\\n      ---- \".concat(url, \" ----\\n      -------------------------\\n      -------------------------\\n      -------------------------\\n      \"));\n                      return axios.get(url);\n                    }, action.lastId);\n                    _context.next = 5;\n                    return put({\n                      type: LOAD_BOARDS_SUCCESS,\n                      data: result.data\n                    });\n\n                  case 5:\n                    _context.next = 12;\n                    break;\n\n                  case 7:\n                    _context.prev = 7;\n                    _context.t0 = _context[\"catch\"](0);\n                    console.log(_context.t0);\n                    _context.next = 12;\n                    return put({\n                      type: LOAD_BOARDS_FAILURE,\n                      error: _context.t0\n                    });\n\n                  case 12:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, loadBoards, null, [[0, 7]]);\n          }));\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked);\n}\n\nexport default function bookSaga() {\n  return _regeneratorRuntime.wrap(function bookSaga$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.next = 2;\n          return all([fork(watchLoadBords)]);\n\n        case 2:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked2);\n}","map":{"version":3,"sources":["C:/Document/Backpot/front/sagas/board.js"],"names":["watchLoadBords","bookSaga","all","call","fork","throttle","takeLatest","put","axios","LOAD_BOARDS_REQUEST","LOAD_BOARDS_SUCCESS","LOAD_BOARDS_FAILURE","loadBoards","action","console","log","result","lastId","limit","url","get","type","data","error"],"mappings":";;;;yBAQUA,c;;;yBAuCeC,Q;;AA/CzB,SAASC,GAAT,EAAcC,IAAd,EAAoBC,IAApB,EAA0BC,QAA1B,EAAoCC,UAApC,EAAgDC,GAAhD,QAA2D,oBAA3D;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,mBADF,EAEEC,mBAFF,EAGEC,mBAHF,QAIO,mBAJP;;AAMA,SAAUX,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACE,iBAAMK,QAAQ,CAAC,IAAD,EAAOI,mBAAP;AAAA;AAAA,mCAA4B,SAAUG,UAAV,CAAqBC,MAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEtCC,oBAAAA,OAAO,CAACC,GAAR;AASMC,oBAAAA,MAXgC,GAWvBb,IAAI,CAAC,YAA4B;AAAA,0BAA3Bc,MAA2B,uEAAlB,CAAkB;AAAA,0BAAfC,KAAe,uEAAP,EAAO;AAC9C,0BAAMC,GAAG,4BAAqBF,MAArB,oBAAqCC,KAArC,CAAT;AACAJ,sBAAAA,OAAO,CAACC,GAAR,2HAIKI,GAJL;AASA,6BAAOX,KAAK,CAACY,GAAN,CAAUD,GAAV,CAAP;AACD,qBAZkB,EAYhBN,MAAM,CAACI,MAZS,CAXmB;AAAA;AAwBtC,2BAAMV,GAAG,CAAC;AACRc,sBAAAA,IAAI,EAAEX,mBADE;AAERY,sBAAAA,IAAI,EAAEN,MAAM,CAACM;AAFL,qBAAD,CAAT;;AAxBsC;AAAA;AAAA;;AAAA;AAAA;AAAA;AA6BtCR,oBAAAA,OAAO,CAACC,GAAR;AA7BsC;AA8BtC,2BAAMR,GAAG,CAAC;AACRc,sBAAAA,IAAI,EAAEV,mBADE;AAERY,sBAAAA,KAAK;AAFG,qBAAD,CAAT;;AA9BsC;AAAA;AAAA;AAAA;AAAA;AAAA,eAAUX,UAAV;AAAA,WAA5B,EAAd;;AADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAuCA,eAAe,SAAUX,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,iBAAMC,GAAG,CAAC,CAACE,IAAI,CAACJ,cAAD,CAAL,CAAD,CAAT;;AADa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { all, call, fork, throttle, takeLatest, put } from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport {\r\n  LOAD_BOARDS_REQUEST,\r\n  LOAD_BOARDS_SUCCESS,\r\n  LOAD_BOARDS_FAILURE,\r\n} from '../reducers/board';\r\n\r\nfunction* watchLoadBords() {\r\n  yield throttle(1000, LOAD_BOARDS_REQUEST, function* loadBoards(action) {\r\n    try {\r\n      console.log(`\r\n      -------------------------\r\n      -------------------------\r\n      -------------------------\r\n      ---- watchLoadBoards ----\r\n      -------------------------\r\n      -------------------------\r\n      -------------------------\r\n      `);\r\n      const result = call((lastId = 0, limit = 10) => {\r\n        const url = `/boards?lastId=${lastId}&limit=${limit}`;\r\n        console.log(`\r\n      -------------------------\r\n      -------------------------\r\n      -------------------------\r\n      ---- ${url} ----\r\n      -------------------------\r\n      -------------------------\r\n      -------------------------\r\n      `);\r\n        return axios.get(url);\r\n      }, action.lastId);\r\n      yield put({\r\n        type: LOAD_BOARDS_SUCCESS,\r\n        data: result.data,\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n      yield put({\r\n        type: LOAD_BOARDS_FAILURE,\r\n        error: e,\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nexport default function* bookSaga() {\r\n  yield all([fork(watchLoadBords)]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}