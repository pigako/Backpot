{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect, useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\nimport Button from '../components/designs/Button';\nimport Router from 'next/router';\nimport { LOAD_BOARD_REQUEST } from '../reducers/board';\nconst SBoard = styled.div.withConfig({\n  displayName: \"detailboard__SBoard\",\n  componentId: \"sc-18cmj5i-0\"\n})([\"margin-top:10px;width:98%;\"]);\nconst SDetailBoardTitle = styled.h1.withConfig({\n  displayName: \"detailboard__SDetailBoardTitle\",\n  componentId: \"sc-18cmj5i-1\"\n})([\"display:inline-block;font-weight:bold;margin-left:10px;width:100%;\"]);\nconst SBoardTop = styled.div.withConfig({\n  displayName: \"detailboard__SBoardTop\",\n  componentId: \"sc-18cmj5i-2\"\n})([\"margin-top:1rem;padding-bottom:1rem;border-bottom:solid 2px #6441a5;\"]);\nconst SBoardTitle = styled.div.withConfig({\n  displayName: \"detailboard__SBoardTitle\",\n  componentId: \"sc-18cmj5i-3\"\n})([\"display:inline-block;\"]);\nconst SBoardTitleLabel = styled.label.withConfig({\n  displayName: \"detailboard__SBoardTitleLabel\",\n  componentId: \"sc-18cmj5i-4\"\n})([\"display:block;font-size:1.5rem;margin-bottom:1rem;\"]);\nconst SBoardWriterLabel = styled.label.withConfig({\n  displayName: \"detailboard__SBoardWriterLabel\",\n  componentId: \"sc-18cmj5i-5\"\n})([\"padding-right:1rem;border-right:solid 1px #495057;& > strong{font-weight:bold;}\"]);\nconst SBoardCreateLabel = styled.label.withConfig({\n  displayName: \"detailboard__SBoardCreateLabel\",\n  componentId: \"sc-18cmj5i-6\"\n})([\"padding-left:1rem;\"]);\nconst SBoardTitleButtonDiv = styled.div.withConfig({\n  displayName: \"detailboard__SBoardTitleButtonDiv\",\n  componentId: \"sc-18cmj5i-7\"\n})([\"float:right;\"]);\nconst SBoardContent = styled.div.withConfig({\n  displayName: \"detailboard__SBoardContent\",\n  componentId: \"sc-18cmj5i-8\"\n})([\"margin:1.5rem;& > p{font-size:1rem;line-height:1.5rem;}\"]);\nconst SBoardComment = styled.div.withConfig({\n  displayName: \"detailboard__SBoardComment\",\n  componentId: \"sc-18cmj5i-9\"\n})([\"border-top:solid 3px #6441a5;\"]);\nconst SBoardCommentCountDiv = styled.div.withConfig({\n  displayName: \"detailboard__SBoardCommentCountDiv\",\n  componentId: \"sc-18cmj5i-10\"\n})([\"height:2rem;background:#e7e7e7;display:flex;align-items:center;border-bottom:solid 3px #6441a5;& > label{font-size:1rem;font-weight:bold;margin-left:1rem;}\"]);\nconst CommentCard = styled.div.withConfig({\n  displayName: \"detailboard__CommentCard\",\n  componentId: \"sc-18cmj5i-11\"\n})([\"margin:1.5rem;\"]);\nconst CommentCardTop = styled.div.withConfig({\n  displayName: \"detailboard__CommentCardTop\",\n  componentId: \"sc-18cmj5i-12\"\n})([\"height:2rem;background:#f7f7f7;border-bottom:solid 1px #6441a5;display:inline-block;width:100%;& > label{line-height:2rem;}\"]);\nconst CommentCardNickname = styled.label.withConfig({\n  displayName: \"detailboard__CommentCardNickname\",\n  componentId: \"sc-18cmj5i-13\"\n})([\"font-size:1rem;font-weight:bold;margin-left:1rem;\"]);\nconst CommentCardCreateLabel = styled.label.withConfig({\n  displayName: \"detailboard__CommentCardCreateLabel\",\n  componentId: \"sc-18cmj5i-14\"\n})([\"display:block;float:right;\"]);\nconst CommentCardContent = styled.div.withConfig({\n  displayName: \"detailboard__CommentCardContent\",\n  componentId: \"sc-18cmj5i-15\"\n})([\"margin:1.5rem;& > p{font-size:1rem;line-height:1.5rem;}\"]);\n\nconst DetailBoard = () => {\n  const board = useSelector(state => state.board.board);\n  const {\n    id: myId\n  } = useSelector(state => state.user.me) || '';\n  const onUpdateBoard = useCallback(e => {}, []);\n  const editorRef = useRef();\n  const [editorLoded, setEditorLoded] = useState(false);\n  const {\n    CKEditor,\n    ClassicEditor\n  } = editorRef.current || {};\n  useEffect(() => {\n    editorRef.current = {\n      CKEditor: require('@ckeditor/ckeditor5-react'),\n      ClassicEditor: require('@ckeditor/ckeditor5-build-classic')\n    };\n    setEditorLoded(true);\n  }, []);\n  const onDeleteBoard = useCallback(e => {}, []);\n  return __jsx(SBoard, null, __jsx(SDetailBoardTitle, null, \"\\uCD94\\uCC9C\\uAC8C\\uC2DC\\uAE00\"), __jsx(SBoardTop, null, __jsx(SBoardTitle, null, __jsx(SBoardTitleLabel, null, board && board.title), __jsx(SBoardWriterLabel, null, __jsx(\"strong\", null, board && board.User.nickname), \" \\uB2D8\"), __jsx(SBoardCreateLabel, null, moment(board && board.createdAt).format('YY.MM.DD HH시 mm분'))), myId === (board && board.User.id) ? __jsx(SBoardTitleButtonDiv, null, __jsx(Button, {\n    onClick: onUpdateBoard\n  }, \"\\uC218\\uC815\"), __jsx(Button, {\n    color: 'pink',\n    onClick: onDeleteBoard\n  }, \"\\uC0AD\\uC81C\")) : null), __jsx(SBoardContent, null, __jsx(\"p\", {\n    dangerouslySetInnerHTML: {\n      __html: board && board.content\n    }\n  })), __jsx(SBoardComment, null, __jsx(SBoardCommentCountDiv, null, __jsx(\"label\", null, \"\\uB313\\uAE00 \", board && board.Comments.length, \"\\uAC1C\")), board && board.Comments.map(comment => {\n    return __jsx(CommentCard, {\n      key: +comment.id\n    }, __jsx(CommentCardTop, null, __jsx(CommentCardNickname, null, comment.User.nickname), __jsx(CommentCardCreateLabel, null, moment(comment.createdAt).format('YY.MM.DD HH시 mm분'))), __jsx(CommentCardContent, null, __jsx(\"p\", {\n      dangerouslySetInnerHTML: {\n        __html: comment.content\n      }\n    })));\n  })), editorLoded ? __jsx(CKEditor, {\n    editor: ClassicEditor,\n    data: text,\n    onChange: (event, editor) => {\n      const data = editor.getData();\n      setText(data);\n    }\n  }) : __jsx(\"p\", null, \"Editor Loding\"));\n};\n\nDetailBoard.getInitialProps = context => {\n  const id = parseInt(context.query.id, 10);\n  context.store.dispatch({\n    type: LOAD_BOARD_REQUEST,\n    boardId: id\n  });\n};\n\nexport default DetailBoard;","map":{"version":3,"sources":["C:/Document/Backpot/front/pages/detailboard.js"],"names":["React","useEffect","useCallback","useRef","PropTypes","styled","useSelector","moment","Button","Router","LOAD_BOARD_REQUEST","SBoard","div","SDetailBoardTitle","h1","SBoardTop","SBoardTitle","SBoardTitleLabel","label","SBoardWriterLabel","SBoardCreateLabel","SBoardTitleButtonDiv","SBoardContent","SBoardComment","SBoardCommentCountDiv","CommentCard","CommentCardTop","CommentCardNickname","CommentCardCreateLabel","CommentCardContent","DetailBoard","board","state","id","myId","user","me","onUpdateBoard","e","editorRef","editorLoded","setEditorLoded","useState","CKEditor","ClassicEditor","current","require","onDeleteBoard","title","User","nickname","createdAt","format","__html","content","Comments","length","map","comment","text","event","editor","data","getData","setText","getInitialProps","context","parseInt","query","store","dispatch","type","boardId"],"mappings":"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","sourcesContent":["import React, { useEffect, useCallback, useRef } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport { useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nimport Button from '../components/designs/Button';\r\nimport Router from 'next/router';\r\nimport { LOAD_BOARD_REQUEST } from '../reducers/board';\r\n\r\nconst SBoard = styled.div`\r\n  margin-top: 10px;\r\n  width: 98%;\r\n`;\r\nconst SDetailBoardTitle = styled.h1`\r\n  display: inline-block;\r\n  font-weight: bold;\r\n  margin-left: 10px;\r\n  width: 100%;\r\n`;\r\nconst SBoardTop = styled.div`\r\n  margin-top: 1rem;\r\n  padding-bottom: 1rem;\r\n  border-bottom: solid 2px #6441a5;\r\n`;\r\nconst SBoardTitle = styled.div`\r\n  display: inline-block;\r\n`;\r\nconst SBoardTitleLabel = styled.label`\r\n  display: block;\r\n  font-size: 1.5rem;\r\n  margin-bottom: 1rem;\r\n`;\r\nconst SBoardWriterLabel = styled.label`\r\n  padding-right: 1rem;\r\n  border-right: solid 1px #495057;\r\n  & > strong {\r\n    font-weight: bold;\r\n  }\r\n`;\r\nconst SBoardCreateLabel = styled.label`\r\n  padding-left: 1rem;\r\n`;\r\nconst SBoardTitleButtonDiv = styled.div`\r\n  float: right;\r\n`;\r\nconst SBoardContent = styled.div`\r\n  margin: 1.5rem;\r\n\r\n  & > p {\r\n    font-size: 1rem;\r\n    line-height: 1.5rem;\r\n  }\r\n`;\r\nconst SBoardComment = styled.div`\r\n  border-top: solid 3px #6441a5;\r\n`;\r\nconst SBoardCommentCountDiv = styled.div`\r\n  height: 2rem;\r\n  background: #e7e7e7;\r\n  display: flex;\r\n  align-items: center;\r\n  border-bottom: solid 3px #6441a5;\r\n  & > label {\r\n    font-size: 1rem;\r\n    font-weight: bold;\r\n    margin-left: 1rem;\r\n  }\r\n`;\r\nconst CommentCard = styled.div`\r\n  margin: 1.5rem;\r\n`;\r\nconst CommentCardTop = styled.div`\r\n  height: 2rem;\r\n  background: #f7f7f7;\r\n  border-bottom: solid 1px #6441a5;\r\n  display: inline-block;\r\n  width: 100%;\r\n\r\n  & > label {\r\n    line-height: 2rem;\r\n  }\r\n`;\r\nconst CommentCardNickname = styled.label`\r\n  font-size: 1rem;\r\n  font-weight: bold;\r\n  margin-left: 1rem;\r\n`;\r\nconst CommentCardCreateLabel = styled.label`\r\n  display: block;\r\n  float: right;\r\n`;\r\nconst CommentCardContent = styled.div`\r\n  margin: 1.5rem;\r\n  & > p {\r\n    font-size: 1rem;\r\n    line-height: 1.5rem;\r\n  }\r\n`;\r\n\r\nconst DetailBoard = () => {\r\n  const board = useSelector(state => state.board.board);\r\n  const { id: myId } = useSelector(state => state.user.me) || '';\r\n  const onUpdateBoard = useCallback(e => {}, []);\r\n\r\n  const editorRef = useRef();\r\n  const [editorLoded, setEditorLoded] = useState(false);\r\n  const { CKEditor, ClassicEditor } = editorRef.current || {};\r\n\r\n  useEffect(() => {\r\n    editorRef.current = {\r\n      CKEditor: require('@ckeditor/ckeditor5-react'),\r\n      ClassicEditor: require('@ckeditor/ckeditor5-build-classic'),\r\n    };\r\n    setEditorLoded(true);\r\n  }, []);\r\n\r\n  const onDeleteBoard = useCallback(e => {}, []);\r\n\r\n  return (\r\n    <SBoard>\r\n      <SDetailBoardTitle>추천게시글</SDetailBoardTitle>\r\n      <SBoardTop>\r\n        <SBoardTitle>\r\n          <SBoardTitleLabel>{board && board.title}</SBoardTitleLabel>\r\n          <SBoardWriterLabel>\r\n            <strong>{board && board.User.nickname}</strong> 님\r\n          </SBoardWriterLabel>\r\n          <SBoardCreateLabel>\r\n            {moment(board && board.createdAt).format('YY.MM.DD HH시 mm분')}\r\n          </SBoardCreateLabel>\r\n        </SBoardTitle>\r\n        {myId === (board && board.User.id) ? (\r\n          <SBoardTitleButtonDiv>\r\n            <Button onClick={onUpdateBoard}>수정</Button>\r\n            <Button color={'pink'} onClick={onDeleteBoard}>\r\n              삭제\r\n            </Button>\r\n          </SBoardTitleButtonDiv>\r\n        ) : null}\r\n      </SBoardTop>\r\n      <SBoardContent>\r\n        <p dangerouslySetInnerHTML={{ __html: board && board.content }} />\r\n      </SBoardContent>\r\n      <SBoardComment>\r\n        <SBoardCommentCountDiv>\r\n          <label>댓글 {board && board.Comments.length}개</label>\r\n        </SBoardCommentCountDiv>\r\n\r\n        {board &&\r\n          board.Comments.map(comment => {\r\n            return (\r\n              <CommentCard key={+comment.id}>\r\n                <CommentCardTop>\r\n                  <CommentCardNickname>\r\n                    {comment.User.nickname}\r\n                  </CommentCardNickname>\r\n                  <CommentCardCreateLabel>\r\n                    {moment(comment.createdAt).format('YY.MM.DD HH시 mm분')}\r\n                  </CommentCardCreateLabel>\r\n                </CommentCardTop>\r\n                <CommentCardContent>\r\n                  <p dangerouslySetInnerHTML={{ __html: comment.content }}></p>\r\n                </CommentCardContent>\r\n              </CommentCard>\r\n            );\r\n          })}\r\n      </SBoardComment>\r\n      {editorLoded ? (\r\n        <CKEditor\r\n          editor={ClassicEditor}\r\n          data={text}\r\n          onChange={(event, editor) => {\r\n            const data = editor.getData();\r\n            setText(data);\r\n          }}\r\n        />\r\n      ) : (\r\n        <p>Editor Loding</p>\r\n      )}\r\n    </SBoard>\r\n  );\r\n};\r\n\r\nDetailBoard.getInitialProps = context => {\r\n  const id = parseInt(context.query.id, 10);\r\n  context.store.dispatch({\r\n    type: LOAD_BOARD_REQUEST,\r\n    boardId: id,\r\n  });\r\n};\r\n\r\nexport default DetailBoard;\r\n"]},"metadata":{},"sourceType":"module"}