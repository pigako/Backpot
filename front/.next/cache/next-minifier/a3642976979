{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{\"1BYw\":function(e,n,t){\"use strict\";var o=t(\"qNsG\"),i=t(\"q1tI\"),r=t.n(i),a=t(\"vOnD\"),d=r.a.createElement,l=a.default.button.withConfig({displayName:\"Button__StyledButton\",componentId:\"nqeedc-0\"})([\"display:inline-block;outline:none;border:none;border-radius:4px;color:white;font-weight:bold;cursor:pointer;padding-left:1rem;padding-right:1rem;height:2.25rem;width:6rem;font-size:1rem;\",\" \",\" & + &{margin-left:1rem;}\"],(function(e){return\"large\"===e.size?Object(a.css)([\"width:100%;\"]):\"middle\"===e.size?Object(a.css)([\"width:33%;\"]):void 0}),(function(e){return\"blue\"===e.color?Object(a.css)([\"background:#148cff;&:hover{background:#1e96ff;}&:active{background:#0a82ff;}\"]):\"pink\"===e.color?Object(a.css)([\"background:#ff7493;&:hover{background:#ff7e9d;}&:active{background:#ff6a89;}\"]):void 0})),c=function(e){var n=e.children,t=Object(o.a)(e,[\"children\"]);return d(l,t,n)};c.defaultProps={color:\"blue\",size:\"small\"},n.a=c},\"4mXO\":function(e,n,t){e.exports=t(\"7TPF\")},\"7TPF\":function(e,n,t){t(\"AUvm\"),e.exports=t(\"WEpk\").Object.getOwnPropertySymbols},OcYQ:function(e,n,t){\"use strict\";t.d(n,\"a\",(function(){return o})),t.d(n,\"b\",(function(){return i}));var o=\"\",i=\"\"},Q2ey:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/book\",function(){return t(\"gKfl\")}])},f5w3:function(e,n,t){\"use strict\";t.d(n,\"n\",(function(){return r})),t.d(n,\"o\",(function(){return a})),t.d(n,\"m\",(function(){return d})),t.d(n,\"h\",(function(){return l})),t.d(n,\"q\",(function(){return c})),t.d(n,\"r\",(function(){return u})),t.d(n,\"p\",(function(){return s})),t.d(n,\"e\",(function(){return f})),t.d(n,\"f\",(function(){return k})),t.d(n,\"d\",(function(){return b})),t.d(n,\"x\",(function(){return p})),t.d(n,\"y\",(function(){return m})),t.d(n,\"w\",(function(){return h})),t.d(n,\"b\",(function(){return E})),t.d(n,\"c\",(function(){return g})),t.d(n,\"a\",(function(){return O})),t.d(n,\"t\",(function(){return _})),t.d(n,\"u\",(function(){return B})),t.d(n,\"s\",(function(){return D})),t.d(n,\"g\",(function(){return v})),t.d(n,\"E\",(function(){return y})),t.d(n,\"F\",(function(){return A})),t.d(n,\"D\",(function(){return w})),t.d(n,\"z\",(function(){return C})),t.d(n,\"v\",(function(){return U})),t.d(n,\"B\",(function(){return I})),t.d(n,\"C\",(function(){return S})),t.d(n,\"A\",(function(){return L})),t.d(n,\"i\",(function(){return K})),t.d(n,\"k\",(function(){return R})),t.d(n,\"l\",(function(){return T})),t.d(n,\"j\",(function(){return j}));var o=t(\"V/h/\"),i={books:[],book:null,keyword:\"\",hasMoreBooks:!1,genre:[],isAddingLikeBook:!1,isRemovingLikeBook:!1,thumbnailPath:\"\",isAddingBook:!1,isAddedBook:!1,isUpdatingBook:!1,isUpdatedBook:!1,isDeletingBook:!1,isDeletedBook:!1},r=\"LOAD_BOOKS_REQUEST\",a=\"LOAD_BOOKS_SUCCESS\",d=\"LOAD_BOOKS_FAILURE\",l=\"CHANGE_KEYWORD\",c=\"LOAD_BOOK_REQUEST\",u=\"LOAD_BOOK_SUCCESS\",s=\"LOAD_BOOK_FAILURE\",f=\"ADD_LIKEBOOK_REQUEST\",k=\"ADD_LIKEBOOK_SUCCESS\",b=\"ADD_LIKEBOOK_FAILURE\",p=\"REMOVE_LIKEBOOK_REQUEST\",m=\"REMOVE_LIKEBOOK_SUCCESS\",h=\"REMOVE_LIKEBOOK_FAILURE\",E=\"ADD_BOOK_REQUEST\",g=\"ADD_BOOK_SUCCESS\",O=\"ADD_BOOK_FAILURE\",_=\"LOAD_GENRE_REQUEST\",B=\"LOAD_GENRE_SUCCESS\",D=\"LOAD_GENRE_FAILURE\",v=\"CHANGE_ADDEDBOOK\",y=\"UPLOAD_IMAGE_REQUEST\",A=\"UPLOAD_IMAGE_SUCCESS\",w=\"UPLOAD_IMAGE_FAILURE\",C=\"REMOVE_THUMBNAIL\",U=\"REMOVE_IMAGE\",I=\"UPDATE_BOOK_REQUEST\",S=\"UPDATE_BOOK_SUCCESS\",L=\"UPDATE_BOOK_FAILURE\",K=\"CHANGE_UPDATEDBOOK\",R=\"DELETE_BOOK_REQUEST\",T=\"DELETE_BOOK_SUCCESS\",j=\"DELETE_BOOK_FAILURE\";n.G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1?arguments[1]:void 0;return Object(o.a)(e,(function(e){switch(n.type){case r:e.books=n.lastId?e.books:[],e.hasMoreBooks&&(e.hasMoreBooks=!!n.lastId&&e.hasMoreBooks);break;case a:n.data.forEach((function(n){e.books.push(n)})),e.hasMoreBooks=20===n.data.length;break;case d:break;case l:e.keyword=n.data;break;case c:break;case u:e.book=n.data;break;case s:break;case f:e.isAddingLikeBook=!0;break;case k:e.isAddingLikeBook=!1,e.book.likersCount+=1;break;case b:break;case p:e.isRemovingLikeBook=!0;break;case m:e.isRemovingLikeBook=!1,e.book.likersCount-=1;break;case h:break;case E:e.isAddingBook=!0,e.isAddedBook=!1;break;case g:e.isAddingBook=!1,e.isAddedBook=!0;break;case O:break;case v:e.isAddedBook=!1;break;case _:e.genre=[];break;case B:e.genre=n.data;break;case D:break;case y:e.thumbnailPath=\"\";break;case A:e.thumbnailPath=n.data;break;case w:break;case U:e.thumbnailPath=\"\";break;case C:e.book.thumbnail=\"\";break;case I:e.isUpdatingBook=!0,e.isUpdatedBook=!1;break;case S:e.isUpdatingBook=!1,e.isUpdatedBook=!0;break;case L:break;case K:e.isUpdatedBook=!1;break;case R:e.isDeletingBook=!0,e.isDeletedBook=!1;break;case T:e.isDeletedBook=!0,e.isDeletingBook=!1;break;case j:break;case\"CHANGE_DELETEDBOOK\":e.isDeletedBook=!1}}))}},gKfl:function(e,n,t){\"use strict\";t.r(n);var o=t(\"ln6h\"),i=t.n(o),r=t(\"q1tI\"),a=t.n(r),d=t(\"vOnD\"),l=t(\"wd/R\"),c=t.n(l),u=t(\"/MKj\"),s=t(\"nOHt\"),f=t(\"TJpk\"),k=t.n(f),b=t(\"f5w3\"),p=a.a.createElement,m=d.default.table.withConfig({displayName:\"BookTable__Table\",componentId:\"w7ujep-0\"})([\"border-collapse:separate;border-spacing:1px;background:white;border-radius:12px;overflow:hidden;margin:1rem auto;width:98%;& th{padding:1rem;background:#148cff;color:white;}& td{padding:1rem;border-bottom:1px solid #7053c4;}& td:nth-child(1),td:nth-child(4),td:nth-child(5){width:10%;text-align:center;}& td:nth-child(3){width:12%;text-align:center;}& td:nth-child(2){text-align:left;}& tr:hover{background:#495057;color:white;cursor:pointer;}\"]),h=function(e){var n=e.episode,t=e.isASC,o=void 0===t||t,i=Object(s.useRouter)(),a=Object(r.useCallback)((function(e){return function(n){i.push({pathname:\"/episode\",query:{id:e}},\"/episode/\".concat(e))}}),[]);Object(r.useEffect)((function(){console.log(n)}),[n]);var d=n.filter((function(e){return 1===e.isNotice})).slice().reverse(),l=n.filter((function(e){return 1!==e.isNotice})),u=l.slice().reverse();return p(m,null,p(\"thead\",null,p(\"tr\",null,p(\"th\",null,\"\\ubc88\\ud638\"),p(\"th\",null,\"\\uc81c\\ubaa9\"),p(\"th\",null,\"\\ub0a0\\uc9dc\"),p(\"th\",null,\"\\uc870\\ud68c\"),p(\"th\",null,\"\\ucd94\\ucc9c\"))),p(\"tbody\",null,d&&d.map((function(e){return p(\"tr\",{key:+e.id,onClick:a(+e.id)},p(\"td\",null,\"\\uacf5\\uc9c0\"),p(\"td\",null,e.title),p(\"td\",null,c()(e.createdAt).format(\"YYYY.MM.DD\")),p(\"td\",null,e.views),p(\"td\",null,e.recommends))})),n.length?o?l.map((function(e,n){return p(\"tr\",{key:+e.id,onClick:a(+e.id)},p(\"td\",null,n+1),p(\"td\",null,e.title),p(\"td\",null,c()(e.createdAt).format(\"YYYY.MM.DD\")),p(\"td\",null,e.views),p(\"td\",null,e.recommends))})):u.map((function(e,n){return p(\"tr\",{key:+e.id,onClick:a(+e.id)},p(\"td\",null,u.length-n),p(\"td\",null,e.title),p(\"td\",null,c()(e.createdAt).format(\"YYYY.MM.DD\")),p(\"td\",null,e.views),p(\"td\",null,e.recommends))})):p(\"tr\",null,p(\"td\",{colSpan:5},p(\"a\",null,\"\\uac8c\\uc2dc\\uae00\\uc774 \\uc874\\uc7ac\\ud558\\uc9c0 \\uc54a\\uc2b5\\ub2c8\\ub2e4.\")))))},E=t(\"1BYw\"),g=t(\"OcYQ\"),O=a.a.createElement,_=d.default.div.withConfig({displayName:\"book__SBookDiv\",componentId:\"sc-1azvhkf-0\"})([\"width:98%;margin:30px 0px 0px 10px;\"]),B=d.default.div.withConfig({displayName:\"book__BookTopDiv\",componentId:\"sc-1azvhkf-1\"})([\"display:inline-block;width:100%;height:16rem;border-bottom:solid 2px #495057;\"]),D=d.default.div.withConfig({displayName:\"book__BookTopLeftDiv\",componentId:\"sc-1azvhkf-2\"})([\"width:15%;float:left;\"]),v=d.default.div.withConfig({displayName:\"book__BookTopRightDiv\",componentId:\"sc-1azvhkf-3\"})([\"width:80%;padding:1.5rem;float:right;border:solid 2px #495057;position:relative;& > label{font-size:1rem;display:block;margin-top:1rem;}& > div{display:flex;& > label{font-size:1rem;display:block;margin-top:1rem;flex:1;& > a{cursor:pointer;}}}\"]),y=d.default.div.withConfig({displayName:\"book__WriterButtonDiv\",componentId:\"sc-1azvhkf-4\"})([\"display:flex;position:absolute;top:5%;right:1%;\"]),A=Object(d.default)(E.a).withConfig({displayName:\"book__UpdateButton\",componentId:\"sc-1azvhkf-5\"})([\"\"]),w=Object(d.default)(E.a).withConfig({displayName:\"book__DeleteButton\",componentId:\"sc-1azvhkf-6\"})([\"\"]),C=d.default.img.withConfig({displayName:\"book__Thumbnail\",componentId:\"sc-1azvhkf-7\"})([\"height:13rem;display:block;margin:1rem auto;\"]),U=d.default.h1.withConfig({displayName:\"book__BookTitle\",componentId:\"sc-1azvhkf-8\"})([\"font-size:1.5rem;font-weight:bold;\"]),I=d.default.div.withConfig({displayName:\"book__BookSummaryDiv\",componentId:\"sc-1azvhkf-9\"})([\"margin-top:1.5rem;margin-bottom:1.5rem;padding-left:1.5rem;padding-right:1.5rem;height:7rem;width:100%;border-bottom:solid 2px #495057;\"]),S=d.default.div.withConfig({displayName:\"book__BookButtonDiv\",componentId:\"sc-1azvhkf-10\"})([\"display:flex;align-items:center;justify-content:flex-end;height:2.25rem;& > button{width:8rem;}\"]),L=d.default.img.withConfig({displayName:\"book__LoadingImg\",componentId:\"sc-1azvhkf-11\"})([\"margin-top:4px;height:1.5rem;\"]),K=function(){var e=Object(u.c)((function(e){return e.book})),n=e.book,t=e.isDeletingBook,o=e.isDeletedBook,i=Object(u.c)((function(e){return e.user})).me,a=Object(r.useState)(!0),d=a[0],l=a[1],f=Object(u.b)(),p=Object(s.useRouter)(),m=Object(r.useCallback)((function(){p.push({pathname:\"/librery\",query:{id:n.User.userId}},\"/librery/\".concat(n.User.userId))}),[n&&n.User.id]),K=Object(r.useCallback)((function(){p.push({pathname:\"/updatebook\",query:{bookid:n.id}},\"/updatebook/\".concat(n.id))}),[n&&n.id]),R=Object(r.useCallback)((function(){p.push({pathname:\"/episode/write\",query:{bookid:n.id}},\"/episode/write/\".concat(n.id))})),T=Object(r.useCallback)((function(){f({type:b.k,id:n&&n.id})}),[n&&n.id]);Object(r.useEffect)((function(){o&&(f({type:CHANGE_DELETEDBOOK}),p.push(\"/booklist\"))}),[o]);var j=Object(r.useCallback)((function(e){f({type:b.e,bookId:n.id,data:{name:n.name,userId:n.User.userId,userNickname:n.User.nickname,recentDay:n.recentDay}})}),[n&&n.id,n&&n.name,n&&n.User.userId,n&&n.User.nickname,n&&n.recentDay]),N=Object(r.useCallback)((function(e){f({type:b.x,bookId:n.id})}),[n&&n.id]),M=Object(r.useCallback)((function(e){l(!d)}),[d]);return O(_,null,O(k.a,{title:n&&n.name,description:n&&n.summary,meta:[{name:\"description\",content:n&&n.summary},{property:\"og:title\",content:\"\".concat(n&&n.name)},{property:\"og:description\",content:\"\".concat(n&&n.summary)},{property:\"og:image\",content:n&&n.thumbnail?\"\".concat(n&&n.thumbnail):\"\".concat(g.b,\"/favicon\")},{property:\"og:url\",content:\"\".concat(g.b,\"/book/\").concat(n&&n.id)}]}),O(B,null,O(D,null,O(C,{src:\"\".concat(n&&n.thumbnail)})),O(v,null,O(U,null,n&&n.name),(i&&i.id)===(n&&n.User.id)?O(y,null,O(A,{onClick:K},\"\\uc218\\uc815\"),O(w,{color:\"pink\",onClick:T},t?O(L,{src:\"/static/icons/loading_pink.gif\"}):\"\\uc0ad\\uc81c\")):null,O(\"label\",null,n&&n.BookGenre.map((function(e){return e.name+\" \"}))),O(\"div\",null,O(\"label\",null,\"\\uc791\\uac00 \",O(\"a\",{onClick:m},n&&n.User.nickname),\" \\ub2d8\"),O(\"label\",null,\"\\uc5f0\\uc7ac\\uc8fc\\uae30 \",n&&n.serialDay.split(\",\").map((function(e){return e+\" \"})))),O(\"div\",null,O(\"label\",null,\"\\uc791\\ud488\\ub4f1\\ub85d\\uc77c\",\" \",n&&c()(n.createdAt).format(\"YY.MM.DD HH\\uc2dc mm\\ubd84\")),O(\"label\",null,\"\\ucd5c\\uadfc\\ub4f1\\ub85d\\uc77c\",\" \",n&&(n.Episodes[n.Episodes.length-1]?c()(n.Episodes[n.Episodes.length-1].createdAt).format(\"YY.MM.DD HH\\uc2dc mm\\ubd84\"):c()(n.createdAt).format(\"YY.MM.DD HH\\uc2dc mm\\ubd84\")))),O(\"div\",null,O(\"label\",null,\"\\uc5f0\\uc7ac\\uc218 \",n&&n.Episodes.length,\" \\ud654\"),O(\"label\",null,\"\\uc870\\ud68c\\uc218\",\" \",n&&n.Episodes.reduce((function(e,n){return e+n.views}),0))),O(\"div\",null,O(\"label\",null,\"\\ucd94\\ucc9c\\uc218\",\" \",n&&n.Episodes.reduce((function(e,n){return e+n.recommends}),0)),O(\"label\",null,\"\\uc120\\ud638\\uc791\\uc218 \",n&&n.likersCount)))),O(I,{dangerouslySetInnerHTML:{__html:n&&n.summary}}),O(S,null,(i&&i.id)===(n&&n.User.id)?O(E.a,{onClick:R},\"\\uae00\\uc4f0\\ub7ec\\uac00\\uae30\"):null,i?i.LikingBook.find((function(e){return e.id===(n&&n.id)}))?O(E.a,{color:\"pink\",onClick:N},\"\\uc120\\ud638\\uc791\\ud574\\uc81c\"):O(E.a,{onClick:j},\"\\uc120\\ud638\\uc791\\ucd94\\uac00\"):null,O(E.a,{onClick:M},d?\"\\uc624\\ub984\\ucc28\\uc21c\\uc815\\ub82c\":\"\\ub0b4\\ub9bc\\ucc28\\uc21c\\uc815\\ub82c\")),n&&O(h,{episode:n.Episodes,isASC:d}))};K.getInitialProps=function(e){var n;return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.query.bookid,e.store.dispatch({type:b.q,id:n});case 2:case\"end\":return t.stop()}}))};n.default=K},qNsG:function(e,n,t){\"use strict\";var o=t(\"4mXO\"),i=t.n(o),r=t(\"pLtp\"),a=t.n(r);function d(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,i={},r=a()(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(i.a){var d=i()(e);for(o=0;o<d.length;o++)t=d[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}t.d(n,\"a\",(function(){return d}))}},[[\"Q2ey\",1,2,0,4,3,5,6,7,8]]]);"}