(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"0jrB":function(e,t,n){"use strict";n.r(t);var o=n("hfKm"),r=n.n(o),i=n("2Eek"),a=n.n(i),c=n("XoMD"),u=n.n(c),s=n("Jo+v"),l=n.n(s),d=n("4mXO"),f=n.n(d),p=n("ln6h"),b=n.n(p),k=n("vYYK"),h=n("pLtp"),m=n.n(h),O=n("dfwq"),g=n("q1tI"),E=n.n(g),_=n("vOnD"),v=n("/MKj"),y=n("nOHt"),w=n("TJpk"),C=n.n(w),j=n("1BYw"),B=n("f5w3"),D=E.a.createElement;function A(e,t){var n=m()(e);if(f.a){var o=f()(e);t&&(o=o.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,o)}return n}var S=_.default.div.withConfig({displayName:"writebook__SWriteBookDiv",componentId:"sc-1skj1bk-0"})(["width:98%;margin:1rem 0rem 0rem 1rem;"]),I=_.default.h1.withConfig({displayName:"writebook__SWriteBookTitle",componentId:"sc-1skj1bk-1"})(["display:inline-block;font-weight:bold;margin-left:10px;width:100%;"]),x=_.default.form.withConfig({displayName:"writebook__FormBook",componentId:"sc-1skj1bk-2"})([""]),U=_.default.div.withConfig({displayName:"writebook__ButtonDiv",componentId:"sc-1skj1bk-3"})(["display:flex;align-items:center;justify-content:flex-end;"]),L=_.default.div.withConfig({displayName:"writebook__DivCard",componentId:"sc-1skj1bk-4"})(["display:flex;align-items:center;margin:1rem;width:80%;"]),T=_.default.div.withConfig({displayName:"writebook__DivCardLeft",componentId:"sc-1skj1bk-5"})(["flex:1;"]),R=_.default.div.withConfig({displayName:"writebook__DivCardRight",componentId:"sc-1skj1bk-6"})(["flex:4;display:flex;& > input{width:100%;height:2rem;font-size:1rem;line-height:2rem;padding-left:10px;border:solid 2px #495057;border-radius:4px;transition:0.55s ease;&:hover{border:solid 2px #148cff;}&:focus{border:solid 2px #148cff;}}"]),P=_.default.div.withConfig({displayName:"writebook__GenreDiv",componentId:"sc-1skj1bk-7"})(["display:block;flex:4;"]),K=Object(_.default)(j.a).withConfig({displayName:"writebook__GenreButton",componentId:"sc-1skj1bk-8"})(["display:block;width:7.5rem;float:left;color:black;background:white;border:solid 2px #148cff;&:hover{color:white;}&:active{color:white;}margin:10px 10px 0px 0px;& + &{margin-left:0px;}",""],(function(e){if(e.check)return Object(_.css)(["color:white;background:#148cff;"])})),N=_.default.div.withConfig({displayName:"writebook__ThumbnailDiv",componentId:"sc-1skj1bk-9"})(["display:inline-block;& > img{width:200px;}& > div{display:flex;justify-content:center;}"]),M=_.default.div.withConfig({displayName:"writebook__DayDiv",componentId:"sc-1skj1bk-10"})([""]),F=Object(_.default)(j.a).withConfig({displayName:"writebook__DayButton",componentId:"sc-1skj1bk-11"})(["width:2rem;padding:0;color:black;background:#ffffff;border:solid 2px #148cff;transition:0.5s ease;&:hover{color:white;}&:active{color:white;}",""],(function(e){if(e.check)return Object(_.css)(["color:white;background:#148cff;"])})),G=_.default.img.withConfig({displayName:"writebook__LoadingImg",componentId:"sc-1skj1bk-12"})(["margin-top:4px;height:1.5rem;"]),Y=function(){var e=Object(g.useRef)(),t=Object(g.useState)(!1),o=t[0],i=t[1],c=e.current||{},s=c.CKEditor,d=c.ClassicEditor,f=Object(v.b)(),p=Object(y.useRouter)(),b=Object(v.c)((function(e){return e.book})),h=b.thumbnailPath,E=b.isAddingBook,_=b.isAddedBook,w=Object(g.useState)(""),Y=w[0],V=w[1],W=Object(v.c)((function(e){return e.book})).genre,q=Object(g.useState)([]),Q=q[0],z=q[1],J=Object(g.useState)({sun:!1,mon:!1,tue:!1,wed:!1,thu:!1,fri:!1,sat:!1}),Z=J[0],H=J[1],X={sun:"\uc77c",mon:"\uc6d4",tue:"\ud654",wed:"\uc218",thu:"\ubaa9",fri:"\uae08",sat:"\ud1a0"},$=Z.sun,ee=Z.mon,te=Z.tue,ne=Z.wed,oe=Z.thu,re=Z.fri,ie=Z.sat,ae=Object(g.useState)(""),ce=ae[0],ue=ae[1],se=Object(g.useRef)();Object(g.useEffect)((function(){console.log("===="),console.log(se.current.value),console.log("===")}),[se.current]);var le=Object(g.useCallback)((function(){se.current.click()}),[se.current]),de=Object(g.useCallback)((function(e){console.log(e.target.files);var t=new FormData;[].forEach.call(e.target.files,(function(e){t.append("image",e)})),console.log(t),f({type:B.E,data:t})}),[]),fe=Object(g.useCallback)((function(){f({type:B.v}),se.current.value=null}),[se.current]);Object(g.useEffect)((function(){e.current={CKEditor:n("AEIT"),ClassicEditor:n("+z1p")},i(!0)}),[]);var pe=Object(g.useCallback)((function(e){V(e.target.value)}),[]),be=Object(g.useCallback)((function(e){return function(t){Q.includes(e)?z(Q.filter((function(t){return t!==e}))):z([].concat(Object(O.a)(Q),[e]))}}),[Q]),ke=Object(g.useCallback)((function(){p.back()}),[]),he=Object(g.useCallback)((function(e){e.preventDefault();var t=m()(Z).reduce((function(e,t){return Z[t]?e.concat(X[t]):e}),[]).join(",");f({type:B.b,data:{name:Y,thumbnail:h,serialDay:t,summary:ce,genre:Q}})}),[Y,h,Z,ce,Q]);Object(g.useEffect)((function(){_&&(console.log(se),console.log(se.current),console.log(se.current.value),se.current.value=null,console.log(se.current.value),f({type:B.g}),p.back())}),[se.current,_]);var me=Object(g.useCallback)((function(e){H(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){Object(k.a)(e,t,n[t])})):u.a?a()(e,u()(n)):A(Object(n)).forEach((function(t){r()(e,t,l()(n,t))}))}return e}({},Z,Object(k.a)({},e.target.name,!Z[e.target.name])))}),[Z]);return D(S,null,D(C.a,null,D("title",null,"\uc0c8 \uc791\ud488"),D("style",{type:"text/css"},"\n            .ck.ck-editor {width:100%;}\n            .ck-editor__editable { height: 500px;}\n          ")),D(I,null,"\uc0c8 \uc5f0\uc7ac\uc791\ud488 \ub9cc\ub4e4\uae30"),D(x,{onSubmit:he},D(U,null,D(j.a,{type:"button",color:"pink",onClick:ke},"\ucde8\uc18c"),D(j.a,{type:"submit"},E?D(G,{src:"/static/icons/loading_blue.gif"}):"\ub9cc\ub4e4\uae30")),D(L,null,D(T,null,D("label",null,"\uc81c\ubaa9")),D(R,null,D("input",{type:"text",value:Y,onChange:pe}))),D(L,null,D(T,null,D("label",null,"\uc7a5\ub974")),D(P,null,W.map((function(e){return D(K,{key:+e.id,type:"button",onClick:be(+e.id),check:Q.includes(+e.id)},e.name)})))),D(L,null,D(T,null,D("label",null,"\uc378\ub124\uc77c")),D(R,null,D("input",{type:"file",hidden:!0,ref:se,onChange:de}),h?D(N,null,D("img",{src:"http://localhost:5000/".concat(h)}),D("div",null,D(j.a,{type:"button",onClick:fe},"\uc81c\uac70"))):D(j.a,{type:"button",onClick:le},"\uc5c5\ub85c\ub4dc"))),D(L,null,D(T,null,D("label",null,"\uc5f0\uc7ac\uc694\uc77c")),D(R,null,D(M,null,D(F,{name:"sun",type:"button",value:$,onClick:me,check:$},"\uc77c"),D(F,{name:"mon",type:"button",value:ee,onClick:me,check:ee},"\uc6d4"),D(F,{name:"tue",type:"button",value:te,onClick:me,check:te},"\ud654"),D(F,{name:"wed",type:"button",value:ne,onClick:me,check:ne},"\uc218"),D(F,{name:"thu",type:"button",value:oe,onClick:me,check:oe},"\ubaa9"),D(F,{name:"fri",type:"button",value:re,onClick:me,check:re},"\uae08"),D(F,{name:"sat",type:"button",value:ie,onClick:me,check:ie},"\ud1a0")))),D(L,null,D(T,null,D("label",null,"\uc791\ud488\uc124\uba85")),D(R,null,o?D(s,{editor:d,data:ce,onChange:function(e,t){var n=t.getData();ue(n)}}):D("p",null,"Editor Loding")))))};Y.getInitialProps=function(e){return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.store.dispatch({type:B.t});case 1:case"end":return t.stop()}}))},t.default=Y},"0tVQ":function(e,t,n){n("FlQf"),n("VJsP"),e.exports=n("WEpk").Array.from},"1BYw":function(e,t,n){"use strict";var o=n("qNsG"),r=n("q1tI"),i=n.n(r),a=n("vOnD"),c=i.a.createElement,u=a.default.button.withConfig({displayName:"Button__StyledButton",componentId:"nqeedc-0"})(["display:inline-block;outline:none;border:none;border-radius:4px;color:white;font-weight:bold;cursor:pointer;padding-left:1rem;padding-right:1rem;height:2.25rem;width:6rem;font-size:1rem;"," "," & + &{margin-left:1rem;}"],(function(e){return"large"===e.size?Object(a.css)(["width:100%;"]):"middle"===e.size?Object(a.css)(["width:33%;"]):void 0}),(function(e){return"blue"===e.color?Object(a.css)(["background:#148cff;&:hover{background:#1e96ff;}&:active{background:#0a82ff;}"]):"pink"===e.color?Object(a.css)(["background:#ff7493;&:hover{background:#ff7e9d;}&:active{background:#ff6a89;}"]):void 0})),s=function(e){var t=e.children,n=Object(o.a)(e,["children"]);return c(u,n,t)};s.defaultProps={color:"blue",size:"small"},t.a=s},"2Eek":function(e,t,n){e.exports=n("W7oM")},"4mXO":function(e,t,n){e.exports=n("7TPF")},"7TPF":function(e,t,n){n("AUvm"),e.exports=n("WEpk").Object.getOwnPropertySymbols},"7m0m":function(e,t,n){var o=n("Y7ZC"),r=n("uplh"),i=n("NsO/"),a=n("vwuL"),c=n("IP1Z");o(o.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,o=i(e),u=a.f,s=r(o),l={},d=0;s.length>d;)void 0!==(n=u(o,t=s[d++]))&&c(l,t,n);return l}})},AEIT:function(e,t,n){var o;window,e.exports=(o=n("q1tI"),function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){e.exports=n(3)()},function(e,t){e.exports=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var o=n(1),r=n.n(o),i=n(0),a=n.n(i);class c extends r.a.Component{constructor(e){super(e),this.editor=null,this.domContainer=r.a.createRef()}shouldComponentUpdate(e){return!!this.editor&&(this._shouldUpdateContent(e)&&this.editor.setData(e.data),"disabled"in e&&(this.editor.isReadOnly=e.disabled),!1)}componentDidMount(){this._initializeEditor()}componentWillUnmount(){this._destroyEditor()}render(){return r.a.createElement("div",{ref:this.domContainer,dangerouslySetInnerHTML:{__html:this.props.data||""}})}_initializeEditor(){this.props.editor.create(this.domContainer.current,this.props.config).then(e=>{this.editor=e,"disabled"in this.props&&(e.isReadOnly=this.props.disabled),this.props.onInit&&this.props.onInit(e);const t=e.model.document,n=e.editing.view.document;t.on("change:data",t=>{this.props.onChange&&this.props.onChange(t,e)}),n.on("focus",t=>{this.props.onFocus&&this.props.onFocus(t,e)}),n.on("blur",t=>{this.props.onBlur&&this.props.onBlur(t,e)})}).catch(e=>{(this.props.onError||console.error)(e)})}_destroyEditor(){this.editor&&this.editor.destroy().then(()=>{this.editor=null})}_shouldUpdateContent(e){return this.props.data!==e.data&&this.editor.getData()!==e.data}}c.propTypes={editor:a.a.func.isRequired,data:a.a.string,config:a.a.object,onChange:a.a.func,onInit:a.a.func,onFocus:a.a.func,onBlur:a.a.func,onError:a.a.func,disabled:a.a.bool},c.defaultProps={config:{}}},function(e,t,n){"use strict";var o=n(4);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,a){if(a!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]).default)},IP1Z:function(e,t,n){"use strict";var o=n("2faE"),r=n("rr1i");e.exports=function(e,t,n){t in e?o.f(e,t,r(0,n)):e[t]=n}},RTSJ:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/writebook",function(){return n("0jrB")}])},VJsP:function(e,t,n){"use strict";var o=n("2GTP"),r=n("Y7ZC"),i=n("JB68"),a=n("sNwI"),c=n("NwJ3"),u=n("tEej"),s=n("IP1Z"),l=n("fNZA");r(r.S+r.F*!n("TuGD")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,r,d,f=i(e),p="function"==typeof this?this:Array,b=arguments.length,k=b>1?arguments[1]:void 0,h=void 0!==k,m=0,O=l(f);if(h&&(k=o(k,b>2?arguments[2]:void 0,2)),void 0==O||p==Array&&c(O))for(n=new p(t=u(f.length));t>m;m++)s(n,m,h?k(f[m],m):f[m]);else for(d=O.call(f),n=new p;!(r=d.next()).done;m++)s(n,m,h?a(d,k,[r.value,m],!0):r.value);return n.length=m,n}})},W7oM:function(e,t,n){n("nZgG");var o=n("WEpk").Object;e.exports=function(e,t){return o.defineProperties(e,t)}},XoMD:function(e,t,n){e.exports=n("hYAz")},d04V:function(e,t,n){e.exports=n("0tVQ")},dfwq:function(e,t,n){"use strict";var o=n("p0XB"),r=n.n(o);var i=n("d04V"),a=n.n(i),c=n("yLu3"),u=n.n(c);function s(e){return function(e){if(r()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(u()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return a()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return s}))},f5w3:function(e,t,n){"use strict";n.d(t,"n",(function(){return i})),n.d(t,"o",(function(){return a})),n.d(t,"m",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"q",(function(){return s})),n.d(t,"r",(function(){return l})),n.d(t,"p",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"x",(function(){return k})),n.d(t,"y",(function(){return h})),n.d(t,"w",(function(){return m})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return E})),n.d(t,"t",(function(){return _})),n.d(t,"u",(function(){return v})),n.d(t,"s",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"E",(function(){return C})),n.d(t,"F",(function(){return j})),n.d(t,"D",(function(){return B})),n.d(t,"z",(function(){return D})),n.d(t,"v",(function(){return A})),n.d(t,"B",(function(){return S})),n.d(t,"C",(function(){return I})),n.d(t,"A",(function(){return x})),n.d(t,"i",(function(){return U})),n.d(t,"k",(function(){return L})),n.d(t,"l",(function(){return T})),n.d(t,"j",(function(){return R}));var o=n("V/h/"),r={books:[],book:null,keyword:"",hasMoreBooks:!1,genre:[],isAddingLikeBook:!1,isRemovingLikeBook:!1,thumbnailPath:"",isAddingBook:!1,isAddedBook:!1,isUpdatingBook:!1,isUpdatedBook:!1,isDeletingBook:!1,isDeletedBook:!1},i="LOAD_BOOKS_REQUEST",a="LOAD_BOOKS_SUCCESS",c="LOAD_BOOKS_FAILURE",u="CHANGE_KEYWORD",s="LOAD_BOOK_REQUEST",l="LOAD_BOOK_SUCCESS",d="LOAD_BOOK_FAILURE",f="ADD_LIKEBOOK_REQUEST",p="ADD_LIKEBOOK_SUCCESS",b="ADD_LIKEBOOK_FAILURE",k="REMOVE_LIKEBOOK_REQUEST",h="REMOVE_LIKEBOOK_SUCCESS",m="REMOVE_LIKEBOOK_FAILURE",O="ADD_BOOK_REQUEST",g="ADD_BOOK_SUCCESS",E="ADD_BOOK_FAILURE",_="LOAD_GENRE_REQUEST",v="LOAD_GENRE_SUCCESS",y="LOAD_GENRE_FAILURE",w="CHANGE_ADDEDBOOK",C="UPLOAD_IMAGE_REQUEST",j="UPLOAD_IMAGE_SUCCESS",B="UPLOAD_IMAGE_FAILURE",D="REMOVE_THUMBNAIL",A="REMOVE_IMAGE",S="UPDATE_BOOK_REQUEST",I="UPDATE_BOOK_SUCCESS",x="UPDATE_BOOK_FAILURE",U="CHANGE_UPDATEDBOOK",L="DELETE_BOOK_REQUEST",T="DELETE_BOOK_SUCCESS",R="DELETE_BOOK_FAILURE";t.G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1?arguments[1]:void 0;return Object(o.a)(e,(function(e){switch(t.type){case i:e.books=t.lastId?e.books:[],e.hasMoreBooks&&(e.hasMoreBooks=!!t.lastId&&e.hasMoreBooks);break;case a:t.data.forEach((function(t){e.books.push(t)})),e.hasMoreBooks=20===t.data.length;break;case c:break;case u:e.keyword=t.data;break;case s:break;case l:e.book=t.data;break;case d:break;case f:e.isAddingLikeBook=!0;break;case p:e.isAddingLikeBook=!1,e.book.likersCount+=1;break;case b:break;case k:e.isRemovingLikeBook=!0;break;case h:e.isRemovingLikeBook=!1,e.book.likersCount-=1;break;case m:break;case O:e.isAddingBook=!0,e.isAddedBook=!1;break;case g:e.isAddingBook=!1,e.isAddedBook=!0;break;case E:break;case w:e.isAddedBook=!1;break;case _:e.genre=[];break;case v:e.genre=t.data;break;case y:break;case C:e.thumbnailPath="";break;case j:e.thumbnailPath=t.data;break;case B:break;case A:e.thumbnailPath="";break;case D:e.book.thumbnail="";break;case S:e.isUpdatingBook=!0,e.isUpdatedBook=!1;break;case I:e.isUpdatingBook=!1,e.isUpdatedBook=!0;break;case x:break;case U:e.isUpdatedBook=!1;break;case L:e.isDeletingBook=!0,e.isDeletedBook=!1;break;case T:e.isDeletedBook=!0,e.isDeletingBook=!1;break;case R:break;case"CHANGE_DELETEDBOOK":e.isDeletedBook=!1}}))}},hYAz:function(e,t,n){n("7m0m"),e.exports=n("WEpk").Object.getOwnPropertyDescriptors},nZgG:function(e,t,n){var o=n("Y7ZC");o(o.S+o.F*!n("jmDH"),"Object",{defineProperties:n("fpC5")})},qNsG:function(e,t,n){"use strict";var o=n("4mXO"),r=n.n(o),i=n("pLtp"),a=n.n(i);function c(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,r={},i=a()(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(r.a){var c=r()(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return c}))},uplh:function(e,t,n){var o=n("ar/p"),r=n("mqlF"),i=n("5K7Z"),a=n("5T2Y").Reflect;e.exports=a&&a.ownKeys||function(e){var t=o.f(i(e)),n=r.f;return n?t.concat(n(e)):t}},vYYK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("hfKm"),r=n.n(o);function i(e,t,n){return t in e?r()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}},[["RTSJ",1,2,9,0,3,4,5,6,7]]]);