(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"1BYw":function(e,t,n){"use strict";var o=n("qNsG"),i=n("q1tI"),r=n.n(i),a=n("vOnD"),d=r.a.createElement,s=a.default.button.withConfig({displayName:"Button__StyledButton",componentId:"nqeedc-0"})(["display:inline-block;outline:none;border:none;border-radius:4px;color:white;font-weight:bold;cursor:pointer;padding-left:1rem;padding-right:1rem;height:2.25rem;width:6rem;font-size:1rem;"," "," & + &{margin-left:1rem;}"],(function(e){return"large"===e.size?Object(a.css)(["width:100%;"]):"middle"===e.size?Object(a.css)(["width:33%;"]):void 0}),(function(e){return"blue"===e.color?Object(a.css)(["background:#148cff;&:hover{background:#1e96ff;}&:active{background:#0a82ff;}"]):"pink"===e.color?Object(a.css)(["background:#ff7493;&:hover{background:#ff7e9d;}&:active{background:#ff6a89;}"]):void 0})),c=function(e){var t=e.children,n=Object(o.a)(e,["children"]);return d(s,n,t)};c.defaultProps={color:"blue",size:"small"},t.a=c},"4mXO":function(e,t,n){e.exports=n("7TPF")},"7TPF":function(e,t,n){n("AUvm"),e.exports=n("WEpk").Object.getOwnPropertySymbols},AEIT:function(e,t,n){var o;window,e.exports=(o=n("q1tI"),function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){e.exports=n(3)()},function(e,t){e.exports=o},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var o=n(1),i=n.n(o),r=n(0),a=n.n(r);class d extends i.a.Component{constructor(e){super(e),this.editor=null,this.domContainer=i.a.createRef()}shouldComponentUpdate(e){return!!this.editor&&(this._shouldUpdateContent(e)&&this.editor.setData(e.data),"disabled"in e&&(this.editor.isReadOnly=e.disabled),!1)}componentDidMount(){this._initializeEditor()}componentWillUnmount(){this._destroyEditor()}render(){return i.a.createElement("div",{ref:this.domContainer,dangerouslySetInnerHTML:{__html:this.props.data||""}})}_initializeEditor(){this.props.editor.create(this.domContainer.current,this.props.config).then(e=>{this.editor=e,"disabled"in this.props&&(e.isReadOnly=this.props.disabled),this.props.onInit&&this.props.onInit(e);const t=e.model.document,n=e.editing.view.document;t.on("change:data",t=>{this.props.onChange&&this.props.onChange(t,e)}),n.on("focus",t=>{this.props.onFocus&&this.props.onFocus(t,e)}),n.on("blur",t=>{this.props.onBlur&&this.props.onBlur(t,e)})}).catch(e=>{(this.props.onError||console.error)(e)})}_destroyEditor(){this.editor&&this.editor.destroy().then(()=>{this.editor=null})}_shouldUpdateContent(e){return this.props.data!==e.data&&this.editor.getData()!==e.data}}d.propTypes={editor:a.a.func.isRequired,data:a.a.string,config:a.a.object,onChange:a.a.func,onInit:a.a.func,onFocus:a.a.func,onBlur:a.a.func,onError:a.a.func,disabled:a.a.bool},d.defaultProps={config:{}}},function(e,t,n){"use strict";var o=n(4);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,a){if(a!==o){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}]).default)},I409:function(e,t,n){"use strict";n.d(t,"t",(function(){return r})),n.d(t,"u",(function(){return a})),n.d(t,"s",(function(){return d})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"j",(function(){return E})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"z",(function(){return b})),n.d(t,"A",(function(){return _})),n.d(t,"y",(function(){return O})),n.d(t,"l",(function(){return m})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return h})),n.d(t,"p",(function(){return D})),n.d(t,"k",(function(){return g})),n.d(t,"b",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return A})),n.d(t,"w",(function(){return I})),n.d(t,"x",(function(){return U})),n.d(t,"v",(function(){return w})),n.d(t,"n",(function(){return v})),n.d(t,"o",(function(){return y})),n.d(t,"m",(function(){return T}));var o=n("V/h/"),i={episode:null,isAddingEpisode:!1,isAddedEpisode:!1,isRecommending:!1,isUpdatingEpisode:!1,isUpdatedEpisode:!1,isDeletingEpisode:!1,isDeletedEpisode:!1,isAddingComment:!1,commentAdded:!1,isUpdatingComment:!1},r="LOAD_EPISODE_REQUEST",a="LOAD_EPISODE_SUCCESS",d="LOAD_EPISODE_FAILURE",s="ADD_EPISODE_REQUEST",c="ADD_EPISODE_SUCCESS",u="ADD_EPISODE_FAILURE",E="CHANGE_ADDEDEPISODE",l="ADD_RECOMMEND_REQUEST",p="ADD_RECOMMEND_SUCCESS",f="ADD_RECOMMEND_FAILURE",b="UPDATE_EPISODE_REQUEST",_="UPDATE_EPISODE_SUCCESS",O="UPDATE_EPISODE_FAILURE",m="CHANGE_UPDATEDEPISODE",k="DELETE_EPISODE_REQUEST",h="DELETE_EPISODE_SUCCESS",D="DELETE_EPISODE_FAILURE",g="CHANGE_DELETEDEPISODE",S="ADD_EPISODE_COMMENT_REQUEST",C="ADD_EPISODE_COMMENT_SUCCESS",A="ADD_EPISODE_COMMENT_FAILURE",I="UPDATE_EPISODE_COMMENT_REQUEST",U="UPDATE_EPISODE_COMMENT_SUCCESS",w="UPDATE_EPISODE_COMMENT_FAILURE",v="DELETE_EPISODE_COMMENT_REQUEST",y="DELETE_EPISODE_COMMENT_SUCCESS",T="DELETE_EPISODE_COMMENT_FAILURE";t.B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return Object(o.a)(e,(function(e){switch(t.type){case r:break;case a:e.episode=t.data;break;case d:break;case s:e.isAddingEpisode=!0,e.isAddedEpisode=!1;break;case c:e.isAddingEpisode=!1,e.isAddedEpisode=!0;break;case u:break;case E:e.isAddedEpisode=!1;break;case l:e.isRecommending=!0;break;case p:e.isRecommending=!1,e.episode.recommends=t.data;break;case f:break;case b:e.isUpdatedEpisode=!1,e.isUpdatingEpisode=!0;break;case _:e.isUpdatedEpisode=!0,e.isUpdatingEpisode=!1;break;case O:break;case m:e.isUpdatedEpisode=!1;break;case k:e.isDeletingEpisode=!0,e.isDeletedEpisode=!1;break;case h:e.isDeletingEpisode=!1,e.isDeletedEpisode=!0;break;case D:break;case g:e.isDeletedEpisode=!1;break;case S:e.isAddingComment=!0,e.commentAdded=!1;break;case C:e.isAddingComment=!1,e.commentAdded=!0,e.episode.Episode_Comments.push(t.data);break;case A:break;case I:e.isUpdatingBoard=!0;break;case U:e.isUpdatingBoard=!1;var n=e.episode.Episode_Comments.findIndex((function(e){return e.id===t.data.id}));e.episode.Episode_Comments[n].content=t.data.content;break;case w:case v:break;case y:var o=e.episode.Episode_Comments.findIndex((function(e){return e.id===t.data}));e.episode.Episode_Comments.splice(o,1)}}))}},f5w3:function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"o",(function(){return a})),n.d(t,"m",(function(){return d})),n.d(t,"h",(function(){return s})),n.d(t,"q",(function(){return c})),n.d(t,"r",(function(){return u})),n.d(t,"p",(function(){return E})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"x",(function(){return b})),n.d(t,"y",(function(){return _})),n.d(t,"w",(function(){return O})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return h})),n.d(t,"t",(function(){return D})),n.d(t,"u",(function(){return g})),n.d(t,"s",(function(){return S})),n.d(t,"g",(function(){return C})),n.d(t,"E",(function(){return A})),n.d(t,"F",(function(){return I})),n.d(t,"D",(function(){return U})),n.d(t,"z",(function(){return w})),n.d(t,"v",(function(){return v})),n.d(t,"B",(function(){return y})),n.d(t,"C",(function(){return T})),n.d(t,"A",(function(){return B})),n.d(t,"i",(function(){return L})),n.d(t,"k",(function(){return R})),n.d(t,"l",(function(){return P})),n.d(t,"j",(function(){return M}));var o=n("V/h/"),i={books:[],book:null,keyword:"",hasMoreBooks:!1,genre:[],isAddingLikeBook:!1,isRemovingLikeBook:!1,thumbnailPath:"",isAddingBook:!1,isAddedBook:!1,isUpdatingBook:!1,isUpdatedBook:!1,isDeletingBook:!1,isDeletedBook:!1},r="LOAD_BOOKS_REQUEST",a="LOAD_BOOKS_SUCCESS",d="LOAD_BOOKS_FAILURE",s="CHANGE_KEYWORD",c="LOAD_BOOK_REQUEST",u="LOAD_BOOK_SUCCESS",E="LOAD_BOOK_FAILURE",l="ADD_LIKEBOOK_REQUEST",p="ADD_LIKEBOOK_SUCCESS",f="ADD_LIKEBOOK_FAILURE",b="REMOVE_LIKEBOOK_REQUEST",_="REMOVE_LIKEBOOK_SUCCESS",O="REMOVE_LIKEBOOK_FAILURE",m="ADD_BOOK_REQUEST",k="ADD_BOOK_SUCCESS",h="ADD_BOOK_FAILURE",D="LOAD_GENRE_REQUEST",g="LOAD_GENRE_SUCCESS",S="LOAD_GENRE_FAILURE",C="CHANGE_ADDEDBOOK",A="UPLOAD_IMAGE_REQUEST",I="UPLOAD_IMAGE_SUCCESS",U="UPLOAD_IMAGE_FAILURE",w="REMOVE_THUMBNAIL",v="REMOVE_IMAGE",y="UPDATE_BOOK_REQUEST",T="UPDATE_BOOK_SUCCESS",B="UPDATE_BOOK_FAILURE",L="CHANGE_UPDATEDBOOK",R="DELETE_BOOK_REQUEST",P="DELETE_BOOK_SUCCESS",M="DELETE_BOOK_FAILURE";t.G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return Object(o.a)(e,(function(e){switch(t.type){case r:e.books=t.lastId?e.books:[],e.hasMoreBooks&&(e.hasMoreBooks=!!t.lastId&&e.hasMoreBooks);break;case a:t.data.forEach((function(t){e.books.push(t)})),e.hasMoreBooks=20===t.data.length;break;case d:break;case s:e.keyword=t.data;break;case c:break;case u:e.book=t.data;break;case E:break;case l:e.isAddingLikeBook=!0;break;case p:e.isAddingLikeBook=!1,e.book.likersCount+=1;break;case f:break;case b:e.isRemovingLikeBook=!0;break;case _:e.isRemovingLikeBook=!1,e.book.likersCount-=1;break;case O:break;case m:e.isAddingBook=!0,e.isAddedBook=!1;break;case k:e.isAddingBook=!1,e.isAddedBook=!0;break;case h:break;case C:e.isAddedBook=!1;break;case D:e.genre=[];break;case g:e.genre=t.data;break;case S:break;case A:e.thumbnailPath="";break;case I:e.thumbnailPath=t.data;break;case U:break;case v:e.thumbnailPath="";break;case w:e.book.thumbnail="";break;case y:e.isUpdatingBook=!0,e.isUpdatedBook=!1;break;case T:e.isUpdatingBook=!1,e.isUpdatedBook=!0;break;case B:break;case L:e.isUpdatedBook=!1;break;case R:e.isDeletingBook=!0,e.isDeletedBook=!1;break;case P:e.isDeletedBook=!0,e.isDeletingBook=!1;break;case M:break;case"CHANGE_DELETEDBOOK":e.isDeletedBook=!1}}))}},pSIb:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/episode/write",function(){return n("z1+5")}])},qNsG:function(e,t,n){"use strict";var o=n("4mXO"),i=n.n(o),r=n("pLtp"),a=n.n(r);function d(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,i={},r=a()(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(i.a){var d=i()(e);for(o=0;o<d.length;o++)n=d[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return d}))},"z1+5":function(e,t,n){"use strict";n.r(t);var o=n("ln6h"),i=n.n(o),r=n("q1tI"),a=n.n(r),d=n("vOnD"),s=n("/MKj"),c=n("TJpk"),u=n.n(c),E=n("nOHt"),l=n("1BYw"),p=n("f5w3"),f=n("I409"),b=a.a.createElement,_=d.default.div.withConfig({displayName:"write__WriteEpisodeDiv",componentId:"sc-1w592s4-0"})(["width:98%;margin:1rem 0rem 0rem 1rem;"]),O=d.default.div.withConfig({displayName:"write__WriteEpisodeTopDiv",componentId:"sc-1w592s4-1"})(["position:relative;margin-bottom:2rem;"]),m=d.default.h1.withConfig({displayName:"write__BookTitle",componentId:"sc-1w592s4-2"})(["font-weight:bold;font-size:1rem;margin-bottom:1rem;"]),k=d.default.div.withConfig({displayName:"write__TopButtonDiv",componentId:"sc-1w592s4-3"})(["display:flex;position:absolute;top:5%;right:1%;"]),h=d.default.form.withConfig({displayName:"write__EpisodeForm",componentId:"sc-1w592s4-4"})([""]),D=d.default.div.withConfig({displayName:"write__WriteEpisodeContentDiv",componentId:"sc-1w592s4-5"})(["margin:1.5rem;"]),g=d.default.div.withConfig({displayName:"write__DivCard",componentId:"sc-1w592s4-6"})(["display:flex;align-items:center;margin:1rem;width:100%;"]),S=d.default.div.withConfig({displayName:"write__DivCardLeft",componentId:"sc-1w592s4-7"})(["flex:1;"]),C=d.default.div.withConfig({displayName:"write__DivCardRight",componentId:"sc-1w592s4-8"})(["flex:4;display:flex;& > input{width:calc(100% - 2rem);height:2rem;font-size:1rem;line-height:2rem;padding-left:10px;border:solid 2px #495057;border-radius:4px;transition:0.55s ease;&:hover{border:solid 2px #148cff;}&:focus{border:solid 2px #148cff;}}"]),A=d.default.input.withConfig({displayName:"write__CheckBox",componentId:"sc-1w592s4-9"})(["width:1.5rem !important;height:1.5rem !important;"]),I=d.default.div.withConfig({displayName:"write__WriteEditorDiv",componentId:"sc-1w592s4-10"})(["margin:1rem;& > label{width:100%;display:inline-block;margin-bottom:1rem;padding-bottom:1rem;border-bottom:solid 2px #495057;}"]),U=d.default.img.withConfig({displayName:"write__LoadingImg",componentId:"sc-1w592s4-11"})(["margin-top:4px;height:1.5rem;"]),w=function(){var e=Object(s.c)((function(e){return e.book})).book,t=Object(s.c)((function(e){return e.episode})),o=t.isAddingEpisode,i=t.isAddedEpisode,a=Object(r.useRef)(),d=Object(r.useState)(!1),c=d[0],p=d[1],w=a.current||{},v=w.CKEditor,y=w.ClassicEditor,T=Object(s.b)(),B=Object(E.useRouter)(),L=Object(r.useState)(!1),R=L[0],P=L[1],M=Object(r.useState)(""),N=M[0],j=M[1],x=Object(r.useState)(""),K=x[0],F=x[1],G=Object(r.useState)(""),Q=G[0],q=G[1],z=Object(r.useCallback)((function(){P(!R)}),[R]),H=Object(r.useCallback)((function(e){j(e.target.value)}),[]);Object(r.useEffect)((function(){a.current={CKEditor:n("AEIT"),ClassicEditor:n("+z1p")},p(!0)}),[]),Object(r.useEffect)((function(){i&&(T({type:f.j}),B.push({pathname:"/book",query:{bookid:e.id}},"/book/".concat(e.id)))}),[i]);var W=Object(r.useCallback)((function(){B.back()}),[]),V=Object(r.useCallback)((function(t){t.preventDefault();var n=K+"<br/><br/><p><strong>\uc791\uac00\uc758 \ub9d0</strong><hr><br/>"+Q;T({type:f.e,data:{title:N,content:n,notice:R?1:0,bookId:e&&e.id}})}),[R,N,K,Q,e&&e.id]);return b(_,null,b(u.a,null,b("title",null,e&&e.name),b("style",{type:"text/css"},"\n            .ck.ck-editor {width:100%;}\n            .ck-editor__editable { height: 500px;}\n          ")),b(h,{onSubmit:V},b(O,null,b(m,null,e&&e.name+"  "+(e.Episodes.filter((function(e){return 1!==e.isNotice})).length+1)+"\ubc88\uc9f8 \uae00"),b(k,null,b(l.a,{color:"pink",type:"button",onClick:W},"\ucde8\uc18c"),b(l.a,{type:"submit"},o?b(U,{src:"/static/icons/loading_blue.gif"}):"\uc791\uc131"))),b(D,null,b(g,null,b(S,null,b("label",null,"\uc774 \uae00\uc744 \uacf5\uc9c0\ub85c \uc791\uc131")),b(C,null,b(A,{type:"checkbox",value:R,onChange:z}))),b(g,null,b(S,null,b("label",null,"\uc81c\ubaa9")),b(C,null,b("input",{type:"text",value:N,onChange:H}))),b(I,null,b("label",null,"\ubcf8\ubb38"),c?b(v,{editor:y,data:K,onChange:function(e,t){var n=t.getData();F(n)}}):b("p",null,"Editor Loding")),b(I,null,b("label",null,"\uc791\uac00\uc758 \ub9d0"),c?b(v,{editor:y,data:Q,onChange:function(e,t){var n=t.getData();q(n)}}):b("p",null,"Editor Loding")))))};w.getInitialProps=function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:t=e.query.bookid,e.store.dispatch({type:p.q,id:t});case 2:case"end":return n.stop()}}))},t.default=w}},[["pSIb",1,2,9,0,3,4,5,6,7]]]);