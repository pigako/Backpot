{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.e1a4b3a92e477e35ddc0.hot-update.js","sources":["webpack:///./components/Header.js"],"sourcesContent":["import React, { useState, useCallback, useRef } from 'react';\r\nimport styled from 'styled-components';\r\nimport Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\n\r\nimport Button from './designs/Button';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { CHANGE_KEYWORD } from '../reducers/book';\r\n\r\nconst Menu = styled.header`\r\n  position: fixed;\r\n  top: 0px;\r\n  left: 0px;\r\n  width: 100%;\r\n  height: 50px;\r\n  display: flex;\r\n  align-items: center;\r\n  border-bottom: solid 2px #495057;\r\n  padding: 0px 10px;\r\n  z-index: 10;\r\n  background-color: rgba(20, 20, 20, 0.8);\r\n`;\r\n\r\nconst List = styled.ul`\r\n  display: flex;\r\n  width: 100%;\r\n`;\r\n\r\nconst Item = styled.li`\r\n  width: 10rem;\r\n  height: 3.2rem;\r\n  text-align: center;\r\n  margin-right: 10px;\r\n  border-bottom: solid 4px\r\n    ${props => (props.current ? '#148cff' : 'transparent')};\r\n  transition: border-bottom 0.5s ease-in-out;\r\n  & a {\r\n    color: white;\r\n    width: 100%;\r\n    height: 3.2rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nconst SearchForm = styled.form`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  padding: 0px 10px;\r\n\r\n  width: calc(100% - 210px);\r\n\r\n  & a {\r\n    color: white;\r\n    height: 50px;\r\n    padding-right: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  margin-right: 10px;\r\n  outline: none;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding-left: 10px;\r\n\r\n  height: 2.25rem;\r\n  width: 10rem;\r\n  font-size: 1.5rem;\r\n\r\n  transition: 0.55s ease;\r\n\r\n  & :hover {\r\n    width: 30rem;\r\n  }\r\n  & :focus {\r\n    width: 30rem;\r\n  }\r\n`;\r\n\r\nconst Header = () => {\r\n  const router = useRouter();\r\n  const { pathname, query } = useRouter();\r\n  const [searchText, setSearchText] = useState('');\r\n  const { userId } = useSelector(state => state.user.me) || false;\r\n  const { keyword } = useSelector(state => state.book);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const onChangeSearchText = useCallback(e => {\r\n    setSearchText(e.target.value);\r\n  }, []);\r\n\r\n  const onSubmitSearch = useCallback(\r\n    e => {\r\n      e.preventDefault();\r\n      dispatch({\r\n        type: CHANGE_KEYWORD,\r\n        data: searchText,\r\n      });\r\n      router.push('/booklist');\r\n    },\r\n    [searchText],\r\n  );\r\n\r\n  return (\r\n    <Menu>\r\n      <List>\r\n        <Item key=\"home\" current={pathname === '/'}>\r\n          <Link href=\"/\">\r\n            <a>Backpot</a>\r\n          </Link>\r\n        </Item>\r\n        <Item key=\"booklist\" current={pathname === '/booklist'}>\r\n          <Link href=\"/booklist\">\r\n            <a>웹소설</a>\r\n          </Link>\r\n        </Item>\r\n        {userId && (\r\n          <Item\r\n            key=\"mydirectory\"\r\n            current={pathname === `/librery` && query.id === userId}\r\n          >\r\n            <Link\r\n              href={{ pathname: '/librery', query: { id: userId } }}\r\n              as={`/librery/${userId}`}\r\n            >\r\n              <a>내 서재</a>\r\n            </Link>\r\n          </Item>\r\n        )}\r\n        {userId && (\r\n          <Item\r\n            key=\"profile\"\r\n            current={pathname === `/profile` && query.id === userId}\r\n          >\r\n            <Link\r\n              href={{ pathname: '/profile', query: { id: userId } }}\r\n              as={`/profile/${userId}`}\r\n            >\r\n              <a>내 정보</a>\r\n            </Link>\r\n          </Item>\r\n        )}\r\n        <Item key=\"board\" current={pathname === '/board'}>\r\n          <Link href=\"/board\">\r\n            <a>추천게시판</a>\r\n          </Link>\r\n        </Item>\r\n        <SearchForm onSubmit={onSubmitSearch}>\r\n          <a>Search</a>\r\n          <SearchInput\r\n            value={searchText}\r\n            onChange={onChangeSearchText}\r\n          ></SearchInput>\r\n          <Button type=\"submit\">검색</Button>\r\n        </SearchForm>\r\n      </List>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAMA;AAAA;AAYA;AAAA;AAAA;AAAA;AAkBA;AAAA;AAAA;AAAA;AACA;AAoBA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAIA;AAAA;AAJA;AACA;AADA;AAKA;AAAA;AALA;AACA;AAMA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAIA;AAGA;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AAAA;AACA;AAAA;AAMA;AACA;AAFA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAUA;AACA;AAFA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAFA;AAQA;AAAA;AAAA;AACA;AAAA;AAIA;AAAA;AAGA;AACA;AAFA;AAIA;AAAA;AAKA;AACA;AACA;;;;A","sourceRoot":""}