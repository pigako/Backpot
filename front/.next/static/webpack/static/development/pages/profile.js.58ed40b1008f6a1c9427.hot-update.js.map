{"version":3,"file":"static/webpack/static\\development\\pages\\profile.js.58ed40b1008f6a1c9427.hot-update.js","sources":["webpack:///./reducers/user.js"],"sourcesContent":["import produce from 'immer';\r\n\r\nexport const initalState = {\r\n  isLoggingIn: false,\r\n  isLoggedIn: false,\r\n  loginErrorReason: '',\r\n  isLoggingOut: false,\r\n  isSignedUp: false,\r\n  isSigningUp: false,\r\n  signUpErrorReason: '',\r\n  me: null,\r\n  LikedBookList: [],\r\n  LikedWriterList: [],\r\n  otherUserInfo: null,\r\n  isUpdating: false,\r\n  isUpdated: false,\r\n};\r\n\r\nexport const LOG_IN_REQUEST = `LOG_IN_REQUEST`;\r\nexport const LOG_IN_SUCCESS = `LOG_IN_SUCCESS`;\r\nexport const LOG_IN_FAILURE = `LOG_IN_FAILURE`;\r\n\r\nexport const LOG_OUT_REQUEST = `LOG_OUT_REQUEST`;\r\nexport const LOG_OUT_SUCCESS = `LOG_OUT_SUCCESS`;\r\nexport const LOG_OUT_FAILURE = `LOG_OUT_FAILURE`;\r\n\r\nexport const SIGN_UP_REQUEST = `SIGN_UP_REQUEST`;\r\nexport const SIGN_UP_SUCCESS = `SIGN_UP_SUCCESS`;\r\nexport const SIGN_UP_FAILURE = `SIGN_UP_FAILURE`;\r\n\r\nexport const LOAD_USER_REQUEST = `LOAD_USER_REQUEST`;\r\nexport const LOAD_USER_SUCCESS = `LOAD_USER_SUCCESS`;\r\nexport const LOAD_USER_FAILURE = `LOAD_USER_FAILURE`;\r\n\r\nexport const UPDATE_USER_REQUEST = `UPDATE_USER_REQUEST`;\r\nexport const UPDATE_USER_SUCCESS = `UPDATE_USER_SUCCESS`;\r\nexport const UPDATE_USER_FAILURE = `UPDATE_USER_FAILURE`;\r\n\r\nexport const CHAGNE_UPDATED = `CHANGE_UPDATED`;\r\n\r\nexport const ADD_LIKEBOOKLIST = `ADD_LIKEBOOKLIST`;\r\nexport const REMOVE_LIKEBOOKLIST = `REMOVE_LIKEBOOKLIST`;\r\n\r\nconst reducer = (state = initalState, action) => {\r\n  return produce(state, draft => {\r\n    switch (action.type) {\r\n      // 로그인\r\n      case LOG_IN_REQUEST: {\r\n        draft.isLoggingIn = true;\r\n        draft.isLoggedIn = false;\r\n        draft.loginErrorReason = '';\r\n        break;\r\n      }\r\n      case LOG_IN_SUCCESS: {\r\n        draft.isLoggingIn = false;\r\n        draft.isLoggedIn = true;\r\n        draft.me = action.data;\r\n        break;\r\n      }\r\n      case LOG_IN_FAILURE: {\r\n        draft.isLoggingIn = false;\r\n        draft.loginErrorReason = action.error;\r\n        break;\r\n      }\r\n      // 로그아웃\r\n      case LOG_OUT_REQUEST: {\r\n        draft.isLoggingOut = true;\r\n        break;\r\n      }\r\n      case LOG_OUT_SUCCESS: {\r\n        draft.isLoggingOut = false;\r\n        draft.isLoggedIn = false;\r\n        draft.me = null;\r\n        break;\r\n      }\r\n      case LOG_OUT_FAILURE: {\r\n        draft.isLoggingOut = false;\r\n        break;\r\n      }\r\n      // 회원가입\r\n      case SIGN_UP_REQUEST: {\r\n        draft.isSigningUp = true;\r\n        draft.signUpErrorReason = '';\r\n        break;\r\n      }\r\n      case SIGN_UP_SUCCESS: {\r\n        draft.isSigningUp = false;\r\n        draft.isSignedUp = true;\r\n        break;\r\n      }\r\n      case SIGN_UP_FAILURE: {\r\n        draft.isSigningUp = false;\r\n        draft.signUpErrorReason = action.error;\r\n        break;\r\n      }\r\n      // 유저 정보 불러오기\r\n      case LOAD_USER_REQUEST: {\r\n        if (action.data) {\r\n          draft.otherUserInfo = null;\r\n        }\r\n        break;\r\n      }\r\n      case LOAD_USER_SUCCESS: {\r\n        if (action.me) {\r\n          draft.me = action.data;\r\n        }\r\n        if (!action.me) {\r\n          draft.otherUserInfo = action.data;\r\n        }\r\n        break;\r\n      }\r\n      case LOAD_USER_FAILURE: {\r\n        break;\r\n      }\r\n      // 선호작 리스트 추가\r\n      case ADD_LIKEBOOKLIST: {\r\n        draft.me.LikingBook.push({\r\n          id: action.data.id,\r\n          name: action.data.name,\r\n          recentDay: action.data.recentDay,\r\n          User: {\r\n            userId: action.data.userId,\r\n            nickname: action.data.userNickname,\r\n          },\r\n        });\r\n        break;\r\n      }\r\n      case REMOVE_LIKEBOOKLIST: {\r\n        const index = draft.me.LikingBook.findIndex(v => v.id === action.data);\r\n        if (index !== -1) {\r\n          draft.me.LikingBook.splice(index, 1);\r\n        }\r\n        break;\r\n      }\r\n      case UPDATE_USER_REQUEST: {\r\n        draft.isUpdating = true;\r\n        draft.isUpdated = false;\r\n        break;\r\n      }\r\n      case UPDATE_USER_SUCCESS: {\r\n        draft.isUpdating = false;\r\n        draft.isUpdated = true;\r\n        if (action.data.userId) {\r\n          draft.me.userId = action.data.userId;\r\n        }\r\n        if (action.data.nickname) {\r\n          draft.me.nickname = action.data.nickname;\r\n        }\r\n        break;\r\n      }\r\n      case UPDATE_USER_FAILURE: {\r\n        break;\r\n      }\r\n      case CHANGE_UPDATED: {\r\n        draft.isUpdated = false;\r\n        break;\r\n      }\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n  });\r\n};\r\nexport default reducer;\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAgBA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAJA;AASA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAlHA;AAoHA;AACA;AACA;AAAA;;;;A","sourceRoot":""}