{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.474434e8e637fa924262.hot-update.js","sources":["webpack:///./reducers/book.js"],"sourcesContent":["import produce from 'immer';\r\n\r\nexport const initalState = {\r\n  books: [],\r\n  book: null,\r\n};\r\n\r\nexport const LOAD_BOOKS_REQUEST = `LOAD_BOOKS_REQUEST`;\r\nexport const LOAD_BOOKS_SUCCESS = `LOAD_BOOKS_SUCCESS`;\r\nexport const LOAD_BOOKS_FAILURE = `LOAD_BOOKS_FAILURE`;\r\n\r\nconst reducer = (state = initalState, action) => {\r\n  return produce(state, draft => {\r\n    switch (action.type) {\r\n      case LOAD_BOOKS_REQUEST: {\r\n        draft.books = !action.lastId ? [] : draft.books;\r\n        draft.hasMoreBooks = action.lastId ? draft.hasMoreBooks : true;\r\n        break;\r\n      }\r\n      case LOAD_BOOKS_SUCCESS: {\r\n        action.data.forEach(d => {\r\n          draft.books.push(d);\r\n        });\r\n        draft.hasMoreBooks = action.data.length === 20;\r\n        break;\r\n      }\r\n      case LOAD_BOOKS_FAILURE: {\r\n        break;\r\n      }\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\nexport default reducer;\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAlBA;AAoBA;AACA;AACA;AACA;;;;A","sourceRoot":""}