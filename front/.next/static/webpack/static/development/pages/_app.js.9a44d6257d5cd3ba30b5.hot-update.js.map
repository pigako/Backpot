{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.9a44d6257d5cd3ba30b5.hot-update.js","sources":["webpack:///./components/UserProfile.js"],"sourcesContent":["import React, { useCallback } from 'react';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Button from './designs/Button';\r\nimport LikingBook from './LikingBook';\r\nimport { LOG_OUT_REQUEST } from '../reducers/user';\r\n\r\nconst Profile = styled.div`\r\n  width: 90%;\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n  font-size: 1rem;\r\n`;\r\n\r\nconst TopProfile = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  border-bottom: solid 2px #495057;\r\n  height: 70px;\r\n`;\r\n\r\nconst Nickname = styled.div`\r\n  flex: 10;\r\n`;\r\n\r\nconst MiddleProfile = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-bottom: solid 2px #495057;\r\n  height: 100px;\r\n\r\n  & > * {\r\n    flex: 1;\r\n  }\r\n`;\r\n\r\nconst Preference = styled.div`\r\n  & label {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  display: block;\r\n\r\n  & + & {\r\n    margin-top: 10px;\r\n  }\r\n`;\r\n\r\nconst BottomProfile = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 20rem;\r\n  max-height: calc(100vh - 300px);\r\n  /* overflow-y: scroll; */\r\n  overflow: auto;\r\n  & > * {\r\n    margin-top: 10px;\r\n  }\r\n  &::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n  /* Track */\r\n  ::-webkit-scrollbar-track {\r\n    box-shadow: inset 0 0 5px grey;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  /* Handle */\r\n  ::-webkit-scrollbar-thumb {\r\n    background: #148cff;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  /* Handle on hover */\r\n  ::-webkit-scrollbar-thumb:hover {\r\n    background: #1e96ff;\r\n  }\r\n\r\n  ::-webkit-scrollbar-thumb:active {\r\n    background: #0a82ff;\r\n  }\r\n`;\r\n\r\nconst LikeBookList = styled.ul`\r\n  color: white;\r\n`;\r\nconst LoadingImg = styled.img`\r\n  margin-top: 4px;\r\n  height: 1.5rem;\r\n`;\r\nconst UserProfile = () => {\r\n  const { isLoggingOut } = useSelector(state => state.user);\r\n  const {\r\n    LikingBook: likingBookList,\r\n    LikingUser: likingWriter,\r\n    nickname,\r\n  } = useSelector(state => state.user.me);\r\n  // const likingBookList = useSelector(state => state.user.me.LikingBook);\r\n  // const likingWriter = useSelector(state => state.user.me.LikingUser);\r\n  const dispatch = useDispatch();\r\n\r\n  const onLogout = useCallback(e => {\r\n    dispatch({\r\n      type: LOG_OUT_REQUEST,\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Profile>\r\n      <TopProfile>\r\n        <Nickname>{nickname} 님</Nickname>\r\n        <Button onClick={onLogout}>\r\n          {isLoggingOut ? (\r\n            <LoadingImg src=\"/static/icons/loading_blue.gif\" />\r\n          ) : (\r\n            `로그아웃`\r\n          )}\r\n        </Button>\r\n      </TopProfile>\r\n      <MiddleProfile>\r\n        <Preference key=\"LikedBook\">\r\n          <Label>선호작품</Label>\r\n          <Label>{likingBookList.length || 0}</Label>\r\n        </Preference>\r\n        <Preference key=\"LikedWriter\">\r\n          <Label>선호작가</Label>\r\n          <Label>{likingWriter.length}</Label>\r\n        </Preference>\r\n      </MiddleProfile>\r\n      <BottomProfile>\r\n        <Label>선호작 목록</Label>\r\n        <LikeBookList>\r\n          {likingBookList ? (\r\n            likingBookList\r\n              .slice()\r\n              .sort((a, b) => a.Episodes[0].updatedAt - b.Episodes[0].updatedAt)\r\n              .map((v, i) => {\r\n                return <LikingBook key={i} book={v} />;\r\n              })\r\n          ) : (\r\n            <Label>선호작 목록이 존재하지 않습니다.</Label>\r\n          )}\r\n        </LikeBookList>\r\n      </BottomProfile>\r\n    </Profile>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAmCA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AACA;AAGA;AAAA;AACA;AAAA;AADA;AACA;AADA;AAMA;AAAA;AANA;AAAA;AAAA;AAQA;AACA;AACA;AADA;AAEA;AACA;AACA;AADA;AAGA;AAEA;AAIA;AAAA;AAEA;AAAA;AAOA;AAAA;AAIA;AAAA;AAWA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AACA;;;;A","sourceRoot":""}